<script>
    changeActive();


    </script>

<style>
    .center {
                text-align: center;
            }
        
            .title {
                color: rgb(39, 39, 39);
                font-weight: 700;
                font-size: 23px;
                padding: 10px 0px;
            }
        
            .border1gray {
                border: 1px solid rgba(128, 128, 128, 0.664);
                padding-top: 15px;
            }
        </style>

<div class="row" style="padding:20px;">
    <a href="#settings/users" class="col-2 col-sm-1">
        <img src="img/Settings/back-arrow.png" width="40px">
    </a>
    <div class="col-10 col-sm-11">
        <div class="text-center" style="font-weight: bold; font-size: 25px;">
            Add new user to your SmartHome
        </div>
    </div>
</div>


<form>
    <label>Email or login of user in our system</label>
    <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
    <small class="form-text text-muted">We'll never share your email with anyone else.</small>
    <small id="email_warning" class="form-text" style="display:none; font-weight: 600; color:red;">
        Email field can't be empty!
    </small>
    <small id="email_warning2" class="form-text" style="display:none; font-weight: 600; color:red;">
        You entered incorrect email!
    </small>
    <small id="email_warning3" class="form-text" style="display:none; font-weight: 600; color:red;">
        This email address is not in our database!
    </small>



    <button id="next-step-button" class="btn btn-block btn-primary btn-fluid" style="margin-top:30px;">Submit</button>

</form>


<script>
    $(function () {
        $("#next-step-button").on('click', function () {
            $("#email_warning").hide();
            $("#email_warning2").hide();
            $("#email_warning3").hide();


            if ($("#email").val() == '') {
                $("#email_warning").show();
                return;
            }

            var pattern =
                /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
            if (pattern.test($("#email").val()) == false) {
                $("#email_warning2").show();
                return;
            }

            if ($("#email").val() != 'krystian69@wp.pl') {
                $("#email_warning3").show();
                return;
            }


            var loc = window.location.href; // returns the full URL
            loc = loc.substr(0, loc.lastIndexOf('/') - 1);
            window.location.replace('#settings/add_user2');


        });
    });
</script>